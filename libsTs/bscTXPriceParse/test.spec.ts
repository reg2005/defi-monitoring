import test from 'japa'
import { getPriceFromHTML } from './index'

test.group('Admin test', () => {
  test('login', async (assert) => {
    const result = getPriceFromHTML(
      `<hr class='hr-space'><div class='row'><div class='col-md-3 font-weight-bold font-weight-sm-normal mb-1 mb-md-0'><div class='d-flex align-items-center'><span class='mr-1' title='2 Token Transfers'><i class='fal fa-question-circle text-secondary d-none d-sm-inline-block mr-1' data-container='body' data-toggle='popover' data-placement='top' data-original-title='' title='' data-content='List of token transferred in the transaction.'></i>Tokens Transferred: </span><span class='badge badge-pill badge-secondary align-midle'>2</span></div></div><div class='col-md-9'><ul class='list-unstyled mb-0' id='wrapperContent'><li class='media align-items-baseline mb-2'><span class='row-count text-secondary small mr-1'><i class='fa fa-caret-right'></i></span><div class='media-body'><span class=''><b>From</b> </span><span class='hash-tag text-truncate  mr-1'><a href='/token/0x6f695bd5ffd25149176629f8491a5099426ce7a7?a=0xd38dd03502ce24dab17c3955750ba679452739e1'><span class='hash-tag text-truncate hash-tag-custom-from tooltip-address' data-toggle='tooltip' title='0xd38dd03502ce24dab17c3955750ba679452739e1'>0xd38dd03502ce24dab17c3955750ba679452739e1</span></a></span><span class='mr-1'><b>To</b> </span><span class='hash-tag text-truncate '><a href='/token/0x6f695bd5ffd25149176629f8491a5099426ce7a7?a=0x3ee4de968e47877f432226d6a9a0dad6eac6001b'><span class='hash-tag text-truncate hash-tag-custom-to tooltip-address' data-toggle='tooltip' title='PancakeSwap: sALPACA-ALPACA (0x3ee4de968e47877f432226d6a9a0dad6eac6001b)'>PancakeSwap: sALPACA-ALPACA</span></a></span><span class='mr-1'> <b>For</b> </span><span class='mr-1'>21,079.510976953013472728 </span> <img src='/token/images/alpaca-stronk_32.png' class='mt-n1 mr-1' width='15'><a href='/token/0x6f695bd5ffd25149176629f8491a5099426ce7a7'><span data-toggle='tooltip' title='Stronk Alpaca'><font color=''>Stronk Alpac...</font></span> (<span data-toggle='tooltip' title='sALPACA'><font color=''>sALPAC...</font></span>) </a></div></li><li class='media align-items-baseline mb-2'><span class='row-count text-secondary small mr-1'><i class='fa fa-caret-right'></i></span><div class='media-body'><span class=''><b>From</b> </span><span class='hash-tag text-truncate  mr-1'><a href='/token/0x8f0528ce5ef7b51152a59745befdd91d97091d2f?a=0x3ee4de968e47877f432226d6a9a0dad6eac6001b'><span class='hash-tag text-truncate hash-tag-custom-from tooltip-address' data-toggle='tooltip' title='PancakeSwap: sALPACA-ALPACA (0x3ee4de968e47877f432226d6a9a0dad6eac6001b)'>PancakeSwap: sALPACA-ALPACA</span></a></span><span class='mr-1'><b>To</b> </span><span class='hash-tag text-truncate '><a href='/token/0x8f0528ce5ef7b51152a59745befdd91d97091d2f?a=0xd38dd03502ce24dab17c3955750ba679452739e1'><span class='hash-tag text-truncate hash-tag-custom-to tooltip-address' data-toggle='tooltip' title='0xd38dd03502ce24dab17c3955750ba679452739e1'>0xd38dd03502ce24dab17c3955750ba679452739e1</span></a></span><span class='mr-1'> <b>For</b> </span><span class='mr-1'><span data-toggle="tooltip" data-original-title="Current Price : $0.63 / ALPACA">23,696.0220512038325174 ($14,983.85)</span> </span> <img src='/token/images/alpacafinance_32.png' class='mt-n1 mr-1' width='15'><a href='/token/0x8f0528ce5ef7b51152a59745befdd91d97091d2f'>AlpacaToken (ALPACA)</a></div></li></ul></div></div>`
    )
    console.log(result)
  })
})
